<%= content_for :javascript do %>
  <%= javascript_include_tag 'components/module-categories/toggle' %>
<% end %>

<%= content_for :javascript do %>
  <%= javascript_include_tag 'https://npmcdn.com/masonry-layout@4.0/dist/masonry.pkgd.min.js' %>
  <script>
    function loadMasonry() {
      $('.frequently-asked-questions-list-wrap').masonry({
        itemSelector: '.standalone-faq'
      });
    }
    
    $(window).load(function() {
      loadMasonry();
    });

    $(document).on('click', '.toggle-class', function() {
      loadMasonry();
    });
  </script>
<% end %>

<div class="index-content-wrap">
  <div class="index-content module-index-content">
    <%= link_to '#', class: 'module-category-toggle see-all', data: { container: '.module-categories-dropdown-wrap', class: 'hide', return: 'false' } do %>
      Filter by service
      <span class="module-category-toggle-expand">+</span>
      <span class="module-category-toggle-minimise">-</span>
    <% end %>

    <h1 class="standard-content-box-title">
      Frequently Asked Questions
      <% if @service.present? %>
        <% present @service do |service_presenter| %>
          <strong><%= service_presenter.title %></strong>
        <% end %>
        <%= link_to 'x', frequently_asked_questions_path %>
      <% end %>
    </h1>

    <%= render 'frequently_asked_questions/shared/toggle_overlay' %>
  </div>
</div>

<div class="module-inner-content">
  <div class="page-content-wrap">
    <div class="frequently-asked-questions frequently-asked-questions-list-wrap">
      <%= render partial: 'frequently_asked_questions/shared/single_content_box', collection: @faqs, as: :frequently_asked_question %>
    </div>
  </div>

  <div class="module-pagination">
    <%= paginate @faqs %>
  </div>
</div>
